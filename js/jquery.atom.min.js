(function(b){function a(e){var c=e||window.event,a=[].slice.call(arguments,1),d=0,m=0,j=0;return e=b.event.fix(c),e.type="mousewheel",c.wheelDelta&&(d=c.wheelDelta/120),c.detail&&(d=-c.detail/3),j=d,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(j=0,m=-1*d),void 0!==c.wheelDeltaY&&(j=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(m=-1*c.wheelDeltaX/120),a.unshift(e,d,m,j),(b.event.dispatch||b.event.handle).apply(this,a)}var c=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks)for(var d=c.length;d;)b.event.fixHooks[c[--d]]=
b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],a,!1);else this.onmousewheel=a},teardown:function(){if(this.removeEventListener)for(var b=c.length;b;)this.removeEventListener(c[--b],a,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(b){b.cookie=function(a,c,d){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(c))||null===c||void 0===c)){d=b.extend({},d);if(null===c||void 0===c)d.expires=-1;if("number"===typeof d.expires){var e=d.expires,g=d.expires=new Date;g.setDate(g.getDate()+e)}c=""+c;return document.cookie=[encodeURIComponent(a),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":
""].join("")}for(var d=c||{},e=d.raw?function(b){return b}:decodeURIComponent,g=document.cookie.split("; "),i=0,f;f=g[i]&&g[i].split("=");i++)if(e(f[0])===a)return e(f[1]||"");return null}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(b,a,c,d,e){return jQuery.easing[jQuery.easing.def](b,a,c,d,e)},easeInQuad:function(b,a,c,d,e){return d*(a/=e)*a+c},easeOutQuad:function(b,a,c,d,e){return-d*(a/=e)*(a-2)+c},easeInOutQuad:function(b,a,c,d,e){return 1>(a/=e/2)?d/2*a*a+c:-d/2*(--a*(a-2)-1)+c},easeInCubic:function(b,a,c,d,e){return d*(a/=e)*a*a+c},easeOutCubic:function(b,a,c,d,e){return d*((a=a/e-1)*a*a+1)+c},easeInOutCubic:function(b,a,c,d,e){return 1>(a/=e/2)?d/2*a*a*a+c:
d/2*((a-=2)*a*a+2)+c},easeInQuart:function(b,a,c,d,e){return d*(a/=e)*a*a*a+c},easeOutQuart:function(b,a,c,d,e){return-d*((a=a/e-1)*a*a*a-1)+c},easeInOutQuart:function(b,a,c,d,e){return 1>(a/=e/2)?d/2*a*a*a*a+c:-d/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(b,a,c,d,e){return d*(a/=e)*a*a*a*a+c},easeOutQuint:function(b,a,c,d,e){return d*((a=a/e-1)*a*a*a*a+1)+c},easeInOutQuint:function(b,a,c,d,e){return 1>(a/=e/2)?d/2*a*a*a*a*a+c:d/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(b,a,c,d,e){return-d*Math.cos(a/
e*(Math.PI/2))+d+c},easeOutSine:function(b,a,c,d,e){return d*Math.sin(a/e*(Math.PI/2))+c},easeInOutSine:function(b,a,c,d,e){return-d/2*(Math.cos(Math.PI*a/e)-1)+c},easeInExpo:function(b,a,c,d,e){return 0==a?c:d*Math.pow(2,10*(a/e-1))+c},easeOutExpo:function(b,a,c,d,e){return a==e?c+d:d*(-Math.pow(2,-10*a/e)+1)+c},easeInOutExpo:function(b,a,c,d,e){return 0==a?c:a==e?c+d:1>(a/=e/2)?d/2*Math.pow(2,10*(a-1))+c:d/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(b,a,c,d,e){return-d*(Math.sqrt(1-(a/=e)*
a)-1)+c},easeOutCirc:function(b,a,c,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+c},easeInOutCirc:function(b,a,c,d,e){return 1>(a/=e/2)?-d/2*(Math.sqrt(1-a*a)-1)+c:d/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(b,a,c,d,e){var b=1.70158,g=0,i=d;if(0==a)return c;if(1==(a/=e))return c+d;g||(g=0.3*e);i<Math.abs(d)?(i=d,b=g/4):b=g/(2*Math.PI)*Math.asin(d/i);return-(i*Math.pow(2,10*(a-=1))*Math.sin(2*(a*e-b)*Math.PI/g))+c},easeOutElastic:function(b,a,c,d,e){var b=1.70158,g=0,i=d;if(0==a)return c;if(1==
(a/=e))return c+d;g||(g=0.3*e);i<Math.abs(d)?(i=d,b=g/4):b=g/(2*Math.PI)*Math.asin(d/i);return i*Math.pow(2,-10*a)*Math.sin(2*(a*e-b)*Math.PI/g)+d+c},easeInOutElastic:function(b,a,c,d,e){var b=1.70158,g=0,i=d;if(0==a)return c;if(2==(a/=e/2))return c+d;g||(g=1.5*0.3*e);i<Math.abs(d)?(i=d,b=g/4):b=g/(2*Math.PI)*Math.asin(d/i);return 1>a?-0.5*i*Math.pow(2,10*(a-=1))*Math.sin(2*(a*e-b)*Math.PI/g)+c:0.5*i*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*e-b)*Math.PI/g)+d+c},easeInBack:function(b,a,c,d,e,g){void 0==
g&&(g=1.70158);return d*(a/=e)*a*((g+1)*a-g)+c},easeOutBack:function(b,a,c,d,e,g){void 0==g&&(g=1.70158);return d*((a=a/e-1)*a*((g+1)*a+g)+1)+c},easeInOutBack:function(b,a,c,d,e,g){void 0==g&&(g=1.70158);return 1>(a/=e/2)?d/2*a*a*(((g*=1.525)+1)*a-g)+c:d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+c},easeInBounce:function(b,a,c,d,e){return d-jQuery.easing.easeOutBounce(b,e-a,0,d,e)+c},easeOutBounce:function(b,a,c,d,e){return(a/=e)<1/2.75?7.5625*d*a*a+c:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?
d*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(b,a,c,d,e){return a<e/2?0.5*jQuery.easing.easeInBounce(b,2*a,0,d,e)+c:0.5*jQuery.easing.easeOutBounce(b,2*a-e,0,d,e)+0.5*d+c}});
(function(b){b.fn.atom=function(a,c){var d={tabs:function(){return this.each(function(){var c=b(this),a=c.attr("id");b(".section",c).css({position:"absolute",width:"100%"});b(".sections",c).css("height",b("#"+b(".navi li.active a",c).attr("href"),c).outerHeight(!0));b(".navi > li > a[href]",c).bind(c.data("event")||"click",function(d){d.preventDefault();if(b(".sections, .sections li",c).is(":animated")||b(this).parent("li").hasClass("active"))return!1;var f=b("#"+b(".navi li.active",c).removeClass("active").find("a").attr("href"),
c),m=b("#"+b(this).parent("li").addClass("active").find("a").attr("href"),c);b.cookie(a,m.attr("id"),{path:"/"});switch(c.data("fx")){case "height":b(".sections",c).animate({height:0},{duration:333,easing:"easeInBack",complete:function(){f.hide();m.show();b(this).animate({height:m.outerHeight(!0)},{duration:333,easing:"easeOutCirc"})}});break;case "fade":f.fadeOut(333);m.fadeIn(333);b(".sections",c).animate({height:m.outerHeight(!0)},{duration:300,specialEasing:{opacity:"easeOutQuad",height:"easeOutExpo"}});
break;default:f.hide(),m.show(),b(".sections",c).css("height",m.outerHeight(!0))}});b(".navi li a",c).each(function(){window.location.hash==b(this).attr("href")&&b(this).trigger(c.data("event")||"click")})})},bubble:function(){var c=b('<div class="tip"></div>').appendTo("body"),a="",d="";return this.mouseover(function(){var f=b(this).attr("title"),m=f.indexOf("|")+1,j=f.indexOf("|",m);a=f;d=f.substring(m,j);f=f.substr(j+1,f.length);c.html(f);d&&c.prepend("<p><strong>"+d+"</strong></p>");b(this).attr("title",
"");c.show()}).mousemove(function(b){c.css({top:b.pageY+22,left:b.pageX+10})}).mouseout(function(){c.hide();b(this).attr("title",a)}).click(function(){c.hide();b(this).attr("title",a)})},clearField:function(){c=b.extend({blurClass:"clearFieldBlurred",activeClass:"clearFieldActive",attribute:"data-default",value:""},c);return this.each(function(){var a=b(this),d=a.attr(c.attribute),i=!1;c.value=a.val();void 0==d?a.attr(c.attribute,a.val()).addClass(c.blurClass):c.value=d;if(a.is(":password")){var f=
b('<input type="text" />').attr("class",a.attr("class")).val(d).addClass("pass-label").hide();a.after(f);i=!0;f.focus(function(){f.hide();a.show().focus()})}a.focus(function(){a.val()==d&&!a.is(":password")&&a.val("").removeClass(c.blurClass).addClass(c.activeClass);"url"==a.attr("name")&&""==a.val()&&a.val("http://").removeClass(c.blurClass).addClass(c.activeClass)});a.blur(function(){""==a.val()||"url"==a.attr("name")&&"http://"==a.val()?a.is(":password")&&i?(a.hide(),f.show()):a.val(d).removeClass(c.activeClass).addClass(c.blurClass):
a.removeClass(c.blurClass).addClass(c.activeClass)});a.blur()})},clearFieldCheck:function(){return this.each(function(){var c=function(c){c=b(c);c.val()==(c.data("default")||"http://")&&c.val("");c.is(":password")&&(c.next(".pass-label").hide(),c.show())};b(this).is("form")?b(".clearField",this).each(function(){c(this)}):c(this)})},toggleVisibility:function(){return this.live("click",function(){event.preventDefault();var c=b("#"+b(this).data("target"));return b("body").hasClass("no-fx")?b(c).toggle(0):
b.support.opacity?b(c).animate({opacity:"toggle",height:"toggle"},333,"easeOutQuart"):b(c).animate({height:"toggle"},333,"easeOutQuart")})},webShots:function(){return this.each(function(c){var a=b(this).attr("title"),d="http://s.wordpress.com/mshots/v1/"+encodeURIComponent(b(this).attr("href"))+"?w=400",f=b('<div class="webshot" id="webshot-'+c+'"><img src="'+d+'" width="400" alt="'+a+'" /></div>').hide().appendTo(document.body);b("body").hasClass("no-fx");return b(this).mouseover(function(){f.show()}).mousemove(function(b){f.css({left:b.pageX+
15,top:b.pageY+15})}).mouseout(function(){f.hide()})})},goTopControl:function(){return this.each(function(){var c=b(this);b(window).scroll(function(){b.support.hrefNormalized||c.css({position:"absolute",top:b(window).scrollTop()+b(window).height()-50});500<=b(window).scrollTop()?c.fadeIn(200):c.fadeOut(200)});c.click(function(){b("html, body.browser-chrome").animate({scrollTop:0},"slow");return!1})})},imageSlider:function(){c=b.extend({width:!1,height:!1,squareSize:80,stripeWidth:80,showPager:!0,
showArrows:!0,autoplay:!0,transition:"random",delay:10},c);return this.each(function(){c.width=c.width||b(this).width();c.height=c.height||b(this).height();c.squareSize=Math.min(Math.max(c.squareSize,47),188);c.stripeWidth=Math.min(Math.max(c.stripeWidth,30),188);c.delay=1E3*parseInt(b(this).data("delay"),10)||1E3*c.delay;var a=b('<div class="loading"></div>').css({left:c.width/2-80,top:c.height/2-10}),d=b('<div class="i-controls"></div>'),i=b('<div class="next-slide"></div>'),f=b('<a href="" class="link"></a>').hide().appendTo(d),
m=b(this).prepend(i).append(d).prepend(a),j=[],l=0,o=0,t=b(".slide",m).length,z=0,k=null,v="undefined"!==typeof m.data("autoplay")?m.data("autoplay"):c.autoplay,s=!1,h=Math.ceil(c.height/c.squareSize),n=Math.ceil(c.width/c.squareSize),u=Math.ceil(c.width/c.stripeWidth),w={animationFade:function(b,c,a){i.css({backgroundImage:"url("+j[c].image+")",opacity:0}).animate({opacity:1},{duration:1333,complete:a,easing:"easeOutSine"})},animationSlideH:function(b,a,d,e){i.css({backgroundImage:"url("+j[a].image+
")",left:e?c.width:-c.width}).animate({left:0},{duration:999,complete:d,easing:"easeOutExpo"})},animationSlideV:function(b,a,d,e){i.css({backgroundImage:"url("+j[a].image+")",top:e?c.height:-c.height}).animate({top:0},{duration:999,complete:d,easing:"easeOutExpo"})},animationRandomTiles:function(c,a,d){for(var e=[],c=0;c<h*n-1;++c)e[c]=20*c;for(var g,f,c=e.length;c;g=parseInt(Math.random()*c),f=e[--c],e[c]=e[g],e[g]=f);b(".square",i).css({backgroundImage:"url("+j[a].image+")",opacity:0}).each(function(c){b(this).stop().delay(e[c]).animate({opacity:1},
{duration:999,easing:"easeOutQuad",complete:Math.max.apply(Math,e)!==e[c]||d})})},animationHorizontalTiles:function(c,a,d,e){var g=e?0:h*n-1;b(".square",i).css({backgroundImage:"url("+j[a].image+")",opacity:0}).each(function(c){b(this).stop().delay(30*(e?h*n-c:c)).animate({opacity:1},{duration:666,easing:"easeOutSine",complete:c!==g||d})})},animationDiagonalTiles:function(a,d,e,g){var f=0,l=g?0:h*n-1;b(".square",i).css({backgroundImage:"url("+j[g?d:a].image+")",opacity:g?0:1});g?p(-20,-20):i.css("background-image",
"url("+j[d].image+")");m.removeClass("no-overflow");for(a=0;a<h;a++)for(d=0;d<n;d++)b(".square-"+f,i).stop().delay(100*(g?h-a+n-d:d+a)).animate({opacity:g?1:0,left:g?d*c.squareSize:d*c.squareSize-20,top:g?a*c.squareSize:a*c.squareSize-20},{duration:333,complete:f!==l||e}),++f},animationSpiral:function(c,a,d,e){var c=[],g=Math.ceil(h/2),f,m,l,k=0;for(l=0;l<g;l++){for(f=m=l;f<n-l-1;f++)c[k++]=m*n+f;f=n-l-1;for(m=l;m<h-l-1;m++)c[k++]=m*n+f;m=h-l-1;for(f=n-l-1;f>l;f--)c[k++]=m*n+f;f=l;for(m=h-l-1;m>l;m--)c[k++]=
m*n+f}e&&c.reverse();for(var t=0;t<k;t++)b(".square-"+c[t],i).css({backgroundImage:"url("+j[a].image+")",opacity:0}).each(function(){b(this).stop().delay(30*t).animate({opacity:1},{duration:666,easing:"easeOutSine",complete:t!=k-1||d})})},animationRandomStripes:function(c,a,d){for(var c=[],e=0;e<u-1;++e)c[e]=60*e;for(var g,f,e=c.length;e;g=parseInt(Math.random()*e),f=c[--e],c[e]=c[g],c[g]=f);b(".stripe",i).css({backgroundImage:"url("+j[a].image+")",opacity:0,top:-40});for(e=0;e<u;e++)b(".stripe-"+
e,i).stop().delay(c[e]).animate({opacity:1,top:0},{duration:999,specialEasing:{opacity:"easeOutQuad",top:"easeOutElastic"},complete:Math.max.apply(Math,c)!==c[e]||d})},animationStripeWave:function(c,a,d,e){c=e?0:u-1;b(".stripe",i).css({backgroundImage:"url("+j[a].image+")",opacity:0,top:-30});m.removeClass("no-overflow");for(a=0;a<u;a++)b(".stripe-"+a,i).stop().delay(30*(e?u-a:a)).animate({opacity:1,top:0},{duration:999,specialEasing:{opacity:"easeOutSine",top:"easeOutElastic"},complete:a!==c||d})},
animationCurtain:function(a,d,e,g){a=g?0:u-1;b(".stripe",i).css({backgroundImage:"url("+j[d].image+")",opacity:0,height:0,top:-(c.height/2)});m.removeClass("no-overflow");for(d=0;d<u;d++)b(".stripe-"+d,i).stop().delay(70*(g?u-d:d)).animate({opacity:1,height:c.height,top:0},{duration:333,specialEasing:{opacity:"easeInSine",height:"easeOutQuad",top:"easeOutQuad"},complete:d!==a||e})},animationInterweave:function(a,d,e,g){a=g?0:u-1;b(".stripe",i).css({backgroundImage:"url("+j[d].image+")",opacity:0});
b(".stripe:even",i).css("top",-c.height);b(".stripe:odd",i).css("top",c.height);m.removeClass("no-overflow");for(d=0;d<u;d++)b(".stripe-"+d,i).stop().delay(50*(g?u-d:d)).animate({opacity:1,top:0},{duration:666,specialEasing:{opacity:"easeOutSine",top:"easeOutExpo"},complete:d!==a||e})}},B=function(){return i.is(":animated")||b("div",i).is(":animated")||b(".caption",d).is(":animated")},A=function(c,a){clearTimeout(k);o=l;l=c;m.css("background-image","url("+j[o].image+")");f.hide();b(".pager a",d).removeClass("current");
b(".pager a:eq("+l+")",d).addClass("current");x();var e;("random"!=j[l].transition?w["animation"+j[l].transition]:w[function(){var b=0,c,a;for(a in w)Math.random()<1/++b&&(c=a);return c}()])(o,l,function(){m.removeClass("no-overflow").addClass("no-overflow").css("background-image","url("+j[l].image+")");b("div",i).add(i).css("background-image","");p(0,0);q();r(l);j[l].link&&f.attr("href",j[l].link).show().trigger("href_updated");v&&y()},a)},y=function(){k=setTimeout(function(){A("undefined"==typeof j[l+
1]?0:l+1)},j[l].delay)},r=function(a){a=0===b(".caption",d).length?b(j[a].caption).appendTo(d):b(".caption",d).replaceAll(b(j[a].caption));a.hasClass("push-left")?a.css("width",0.3*c.width).css({opacity:0,left:-(0.3*c.width)}).stop().show().animate({opacity:1,left:0},{duration:333,easing:"easeOutExpo"}):a.hasClass("push-right")?a.css("width",0.3*c.width).css({opacity:0,right:-(0.3*c.width)}).stop().show().animate({opacity:1,right:0},{duration:333,easing:"easeOutExpo"}):a.css({opacity:0,bottom:-a.outerHeight()}).stop().show().animate({opacity:1,
bottom:0},{duration:333,easing:"easeOutExpo"})},x=function(){var a=b(".caption",d);a.hasClass("push-left")?a.stop().animate({opacity:0,left:-(0.3*c.width)},{duration:333,easing:"easeOutExpo",complete:function(){a.remove()}}):a.hasClass("push-right")?a.stop().animate({right:-(0.3*c.width),opacity:0},{duration:333,easing:"easeOutExpo",complete:function(){a.remove()}}):a.stop().animate({opacity:0,bottom:-a.outerHeight()},{duration:333,easing:"easeOutExpo",complete:function(){a.remove()}})},p=function(a,
d){for(var e=0;e<h;e++)for(var g=0;g<n;g++)b(".square-"+(n*e+g),i).css({backgroundPosition:-g*c.squareSize+"px "+-e*c.squareSize+"px",backgroundRepeat:"no-repeat",position:"absolute",left:g*c.squareSize+a,top:e*c.squareSize+d,opacity:0,width:c.squareSize,height:c.squareSize})},q=function(){for(var a=0;a<u;a++)b(".stripe-"+a,i).css({backgroundPosition:-a*c.stripeWidth+"px 0",backgroundRepeat:"no-repeat",position:"absolute",left:a*c.stripeWidth,top:0,opacity:0,width:c.stripeWidth,height:c.height})};
b(".slide",m).each(function(){var o={delay:1E3*parseInt(b(this).data("delay"))||c.delay,transition:b(this).data("fx")||c.transition,link:b("img:first",this).parent("a").attr("href")||"",image:b("img:first",this).attr("src"),caption:b(".caption",this).clone().wrap("<div></div>").parent().html()};j.push(o);b("<img>",this).load(function(){++z;if(t===z){m.css("background-image","url("+j[0].image+")").addClass("no-overflow");j[0].link&&f.attr("href",j[0].link).show().trigger("href_updated");b(".slide",
m).remove();a.remove();if(m.data("controls")){var o=m.data("controls").replace(/ /g,"").split(",");c.showPager=!!~b.inArray("pager",o);c.showArrows=!!~b.inArray("arrows",o)}c.showArrows&&(b("<a>",{"class":"prev",css:{top:c.height/2-48,opacity:0},click:function(){if(!B()){var b=l-1;"undefined"==typeof j[b]&&(b=t-1);A(b,!0);return!1}}}).appendTo(d),b("<a>",{"class":"next",css:{top:c.height/2-48,opacity:0},click:function(){if(!B()){var b=l+1;"undefined"==typeof j[b]&&(b=0);A(b);return!1}}}).appendTo(d));
if(c.showPager){b("<div>",{"class":"pager",css:{opacity:0}}).appendTo(d);for(o=0;o<t;o++)b(".pager",d).append(b("<a"+(0==o?' class="current"':"")+">&nbsp;</a>"));b(".pager a",d).click(function(){if(b(this).index()==l||B())return!1;clearInterval(k);A(b(this).index(),l>b(this).index());return!1})}d.hover(function(){b(".pager, a.next, a.prev",d).stop().animate({opacity:1},333);clearInterval(k);v&&(s=!0,v=!1)},function(){b(".pager, a.next, a.prev",d).stop().animate({opacity:0},666);s&&(y(),v=!0)});r(0);
for(o=0;o<h*n;o++)i.append(b("<div />").addClass("square square-"+o));p(0,0);for(o=0;o<u;o++)i.append(b("<div />").addClass("stripe stripe-"+o));q();d.fadeIn(333);!(2>t)&&v&&y()}}).attr("src",o.image)})})},collapsibleMenu:function(){return this.each(function(){b("li.extends",this).addClass("collapsed");b("li.extends.active, li.extends.active-parent",this).removeClass("collapsed").addClass("expanded");var a=/event-([^\s]+)/.exec(b(this).attr("class"))[1];b('li.extends span.expand, li.extends a[href="#"]',
this).bind(a,function(a){a.stopImmediatePropagation();var a=b(this),c=a.nextAll("ul:first"),d=a.parent(),e=a.closest(".collapsible, .accordion"),a=function(a,g){b(a).animate({opacity:g,height:g,marginTop:g,marginBottom:g,paddingTop:g,paddingBottom:g},{duration:200,step:function(){e.parents("li.block .sections").height(e.height())},complete:function(){d.removeClass("expanded collapsed");c.is("ul:visible")?d.addClass("expanded"):d.addClass("collapsed")}})};if(e.hasClass("collapsible")){if(void 0===
c[0])window.location.href=this.href;a(c,"toggle")}else{context_menu=this.parentNode.parentNode;if(c.is("ul:visible"))return e.hasClass("collapsible")&&a(b("ul:visible",context_menu).first(),"hide"),!1;c.is("ul:visible")||(a(b("ul:visible",context_menu).first(),"hide"),a(c,"show"))}return!1})})},highlightText:function(b,a,c){b=RegExp("(<[^>]*>)|(\\b"+b.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+")",a?"ig":"g");if(0<this.length)return this.html(this.html().replace(b,function(b,a,d){return"<"==b.charAt(0)?
b:'<strong class="'+c+'">'+d+"</strong>"}))},showMoreControl:function(){return this.click(function(a){var c=b(this).parents(".block"),d=b(this),f=b(this).html();a.preventDefault();b.ajax({type:"GET",url:atom_config.blog_url,data:{instance:b(this).data("instance"),atom:b(this).data("cmd"),offset:parseInt(b(this).data("offset")),_ajax_nonce:b(this).data("nonce")},dataType:"json",context:this,beforeSend:function(){b(this).addClass("loading").html("&nbsp;")},complete:function(){b(this).removeClass("loading").html(f)},
success:function(a){""!=a.output&&(b("body").hasClass("no-fx")?(b(a.output).appendTo(c.find("ul")),d.parents(".sections").height(c.height())):b(a.output).appendTo(c.find("ul")).hide().each(function(a){b(this).delay(333*a).animate({opacity:"show",height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},{duration:333,step:function(){d.parents(".sections").height(c.height())}})}));d.data("offset",a.offset);a.more||d.hide()}})})},nudgeLinks:function(){return this.each(function(){var a=
b(this).data("dir"),c="margin"+a.charAt(0).toUpperCase()+a.slice(1),d=-parseInt(b(this).data("amt"));b("a",this).each(function(){var a=b(this),e=a.css(c),j={},l={};j[c]=d+parseInt(e);l[c]=e;a.hover(function(){a.stop().animate(j,166)},function(){a.stop().animate(l,166)})})})},commentControls:function(){return this.each(function(){var a=b(this);a.delegate(".comment-reply","click",function(c){c.preventDefault();var c=b(this).attr("id"),d=c.lastIndexOf("-"),c=c.substr(++d);a.find(".comment.new").hide();
a.find("#comment_parent").attr("value",c);a.find("#cancel-reply").show();a.find(".comment.new").appendTo("#comment-body-"+c).show(0,function(){a.find("#comment").each(function(){if(this.createTextRange){var a=this.createTextRange();a.collapse(!1);a.select()}b(this).focus()})})});a.delegate("#cancel-reply","click",function(c){c.preventDefault();a.find(".comment.new").hide();a.find("#comment_parent").attr("value","0");b(this).hide();a.find(".comment.new").appendTo(a.find("li.new")).show(0,function(){a.find("#comment").each(function(){if(this.createTextRange){var a=
this.createTextRange();a.collapse(!1);a.select()}b(this).focus()})})});a.delegate(".comment-quote","click",function(c){var d=a.find("#comment"),f=b(this).parents(".comment");c.preventDefault();d.atom("clearFieldCheck");jQuery.fn.appendVal=function(b){return this.each(function(){this.value+=b})};d.appendVal('<blockquote>\n<a href="'+b(".comment-id",f).attr("href")+'">\n<strong><em>'+b(".comment-author",f).html()+":</em></strong>\n</a>\n "+function(b,a){var c,d=0,e=0,b=b+"";c=a?(a+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,
"$1"):" \n\r\t\u000c\u000b\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000";d=b.length;for(e=0;e<d;e++)if(-1===c.indexOf(b.charAt(e))){b=b.substring(e);break}d=b.length;for(e=d-1;0<=e;e--)if(-1===c.indexOf(b.charAt(e))){b=b.substring(0,e+1);break}return-1===c.indexOf(b.charAt(0))?b:""}(function(b,a){a=(((a||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return b.replace(/<\!--[\s\S]*?--\>|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,
function(b,c){return-1<a.indexOf("<"+c.toLowerCase()+">")?b:""})}(b(".comment-text",f).html(),"<em><strong><i><b><a><code>"))+"\n</blockquote>\n").trigger("blur").focus()});a.delegate("a.vote","click",function(a){a.preventDefault();b.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"comment_karma",karma:b(this).data("vote")},success:function(a){var c=b(this).parent().find(".karma");c.html(a);0<parseInt(a)?(c.removeClass("negative"),c.addClass("positive")):0>parseInt(a)&&(c.removeClass("positive"),
c.addClass("negative"));b(this).parent().find("a").remove()}})});a.delegate("a.show","click",function(c){c.preventDefault();b.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"get_comment",comment_id:b(this).data("comment")},success:function(c){c=b("<ul />").html(c).find(".comment-body").hide();c=c[0].outerHTML||c.clone().appendTo("<div>").parent().html();b(this).parents(".comment-head").after(c);b("body").hasClass("no-fx")?(b(this).parents("li").find(".comment-body").show(),b(this).parents(".sections").height(a.height()+
15)):b(this).parents("li").find(".comment-body").animate({opacity:"show",height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},{duration:333,complete:function(){b(this).parents(".sections").height(a.height()+15)}});b(this).remove()}})})})},fancybox:function(){var a,c,d,f,m,j,l,o,t,z=0,k={},v=[],s=0,h={},n=[],u=null,w=new Image,B=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,A=0,y="",r,x,p,q=!1,D=b.extend(b("<div/>")[0],{prop:0}),F=function(){c.hide();w.onerror=w.onload=null;
u&&u.abort();a.empty()},G=function(){!1===k.onError(v,z,k)?(c.hide(),q=!1):(k.titleShow=!1,k.width="auto",k.height="auto",a.html('<p id="fb-error">The requested content cannot be loaded.<br />Please try again later.</p>'),N())},H=function(){var d=v[z],f,h,l,i;F();k=b.extend({opacity:!1,cyclic:!1,scrolling:"auto",width:560,height:340,centerOnScroll:!0,ajax:{},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.5,titleShow:!0,titleFormat:null,titleFromAlt:!1,transitionIn:"elastic",
transitionOut:"elastic",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"easeOutBack",easingOut:"easeInBack",showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},"undefined"==typeof b(d).data("atom.fancybox")?k:b(d).data("atom.fancybox"));i=k.onStart(v,z,k);if(!1===i)q=!1;else{"object"==typeof i&&(k=b.extend(k,i));l=k.title||(d.nodeName?b(d).attr("title"):
d.title)||"";if(d.nodeName&&!k.orig)k.orig=b(d).children("img:first").length?b(d).children("img:first"):b(d);""===l&&k.orig&&k.titleFromAlt&&(l=k.orig.attr("alt"));f=k.href||(d.nodeName?b(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(f)||"#"==f)f=null;f&&(h=f.match(B)?"image":"ajax");h?(k.href=f,k.title=l,r=(j.outerWidth()-j.width())/2,a.css("padding",r),b(".fb-inline-tmp").unbind("fb-cancel").bind("fb-change",function(){b(this).replaceWith(j.children())}),"ajax"!==h?(q=!1,c.show(),w=new Image,
w.onerror=G,w.onload=function(){q=!0;w.onerror=w.onload=null;k.width=w.width;k.height=w.height;b("<img />").attr({id:"fb-img",src:w.src,alt:k.title}).appendTo(a);O()},w.src=f):(q=!1,c.show(),k.ajax.win=k.ajax.success,u=b.ajax(b.extend({},k.ajax,{url:f,data:k.ajax.data||{},error:function(b){0<b.status&&G()},success:function(b,d,C){if(200==("object"==typeof C?C:u).status){if("function"==typeof k.ajax.win){i=k.ajax.win(f,b,d,C);if(!1===i){c.hide();return}if("string"==typeof i||"object"==typeof i)b=i}a.html(b);
N()}}})))):G()}},N=function(){var c=k.width,d=k.height,c=-1<c.toString().indexOf("%")?parseInt(b(window).width()*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px",d=-1<d.toString().indexOf("%")?parseInt(b(window).height()*parseFloat(d)/100,10)+"px":"auto"==d?"auto":d+"px";a.wrapInner('<div style="width:'+c+";height:"+d+";overflow: "+("auto"==k.scrolling?"auto":"yes"==k.scrolling?"scroll":"hidden")+';position:relative;"></div>');k.width=a.width();k.height=a.height();O()},O=function(){var C,P;c.hide();
if(f.is(":visible")&&!1===h.onCleanup(n,s,h))b.event.trigger("fb-cancel"),q=!1;else{q=!0;b(j.add(d)).unbind();b(window).unbind("resize.fb scroll.fb");b(document).unbind("keydown.fb");f.is(":visible")&&f.css("height",f.height());n=v;s=z;h=k;h.overlayShow?(d.css({opacity:h.overlayOpacity,cursor:h.hideOnOverlayClick?"pointer":"auto",height:b(document).height()}),d.is(":visible")||d.show()):d.hide();p=S();y=h.title||"";A=0;l.empty().removeAttr("style").removeClass();if(!1!==h.titleShow&&(y=b.isFunction(h.titleFormat)?
h.titleFormat(y,n,s,h):y&&y.length?y:!1)&&""!==y)l.html(y).appendTo("body").show(),l.css({width:p.width-2*r,marginLeft:r,marginRight:r}),A=l.outerHeight(!0),l.appendTo(m),p.height+=A;l.hide();if(f.is(":visible"))b(o.add(t)).hide(),C=f.position(),x={top:C.top,left:C.left,width:f.width(),height:f.height()},P=x.width==p.width&&x.height==p.height,j.fadeTo(h.changeFade,0.3,function(){var c=function(){j.html(a.contents()).fadeTo(h.changeFade,1,I)};b.event.trigger("fb-change");j.empty().css({width:p.width-
2*r,height:"ajax"==k.type?"auto":p.height-A-2*r});P?c():(D.prop=0,b(D).animate({prop:1},{duration:h.changeSpeed,easing:h.easingChange,step:J,complete:c}))});else if(f.removeAttr("style"),"elastic"==h.transitionIn){x=Q();j.html(a.contents());f.show();if(h.opacity)p.opacity=0;D.prop=0;b(D).animate({prop:1},{duration:h.speedIn,easing:h.easingIn,step:J,complete:I})}else 0<A&&l.show(),j.css({width:p.width-2*r,height:"ajax"==k.type?"auto":p.height-A-2*r}).html(a.contents()),f.css(p).fadeIn("none"==h.transitionIn?
0:h.speedIn,I)}},R=function(){(h.enableEscapeButton||h.enableKeyboardNav)&&b(document).bind("keydown.fb",function(b){if(27==b.keyCode&&h.enableEscapeButton)b.preventDefault(),L();else if((37==b.keyCode||39==b.keyCode)&&h.enableKeyboardNav&&"INPUT"!==b.target.tagName&&"TEXTAREA"!==b.target.tagName&&"SELECT"!==b.target.tagName)b.preventDefault(),37==b.keyCode?E(s-1):E(s+1)});if(h.showNavArrows){if(h.cyclic&&1<n.length||0!==s)b("a",o).css("top",f.height()/2-b("a",o).height()/2),o.show();if(h.cyclic&&
1<n.length||s!=n.length-1)b("a",t).css("top",f.height()/2-b("a",o).height()/2),t.show()}else o.hide(),t.hide()},I=function(){"ajax"==k.type&&j.css("height","auto");f.css("height","auto");y&&y.length&&l.show();R();h.hideOnContentClick&&j.bind("click",L);h.hideOnOverlayClick&&d.bind("click",L);b(window).bind("resize.fb",T);h.centerOnScroll&&b(window).bind("scroll.fb",M);f.show();q=!1;M();h.onComplete(n,s,h);var a,c;if(n.length-1>s&&(a=n[s+1].href,"undefined"!==typeof a&&a.match(B)))c=new Image,c.src=
a;if(0<s&&(a=n[s-1].href,"undefined"!==typeof a&&a.match(B)))c=new Image,c.src=a},J=function(b){var a={width:parseInt(x.width+(p.width-x.width)*b,10),height:parseInt(x.height+(p.height-x.height)*b,10),top:parseInt(x.top+(p.top-x.top)*b,10),left:parseInt(x.left+(p.left-x.left)*b,10)};if("undefined"!==typeof p.opacity)a.opacity=0.5>b?0.5:b;f.css(a);j.css({width:a.width-2*r,height:a.height-A*b-2*r})},K=function(){return[b(window).width(),b(window).height(),b(document).scrollLeft(),b(document).scrollTop()]},
S=function(){var b=K(),a={},c=2*r,d;a.width=-1<h.width.toString().indexOf("%")?parseInt(b[0]*parseFloat(h.width)/100,10):h.width+c;a.height=-1<h.height.toString().indexOf("%")?parseInt(b[1]*parseFloat(h.height)/100,10):h.height+c;if(a.width>b[0]||a.height>b[1])if("image"==k.type){d=h.width/h.height;if(a.width>b[0])a.width=b[0],a.height=parseInt((a.width-c)/d+c,10);if(a.height>b[1])a.height=b[1],a.width=parseInt((a.height-c)*d+c,10)}else a.width=Math.min(a.width,b[0]),a.height=Math.min(a.height,b[1]);
a.top=parseInt(Math.max(b[3]-20,b[3]+0.5*(b[1]-a.height-40)),10);a.left=parseInt(Math.max(b[2]-20,b[2]+0.5*(b[0]-a.width-40)),10);return a},Q=function(){var a=k.orig?b(k.orig):!1,c={};a&&a.length?(c=a.offset(),c.width=a.width(),c.height=a.height(),c={width:c.width+2*r,height:c.height+2*r,top:c.top-r-20,left:c.left-r-20}):(a=K(),c={width:2*r,height:2*r,top:parseInt(a[3]+0.5*a[1],10),left:parseInt(a[2]+0.5*a[0],10)});return c},E=function(b){q||(b=parseInt(b),v=n,-1<b&&b<n.length?(z=b,H()):h.cyclic&&
1<n.length&&(z=b>=n.length?0:n.length-1,H()))},L=function(){function a(){d.fadeOut("fast");l.empty().hide();f.hide();b.event.trigger("fb-cleanup");j.empty();h.onClosed(n,s,h);n=k=[];s=z=0;h=k={};q=!1}if(!q&&!f.is(":hidden"))if(q=!0,h&&!1===h.onCleanup(n,s,h))q=!1;else if(F(),b(o.add(t)).hide(),b(j.add(d)).unbind(),b(window).unbind("resize.fb scroll.fb"),b(document).unbind("keydown.fb"),j.find("iframe").attr("src","about:blank"),f.stop(),"elastic"==h.transitionOut){x=Q();var c=f.position();p={top:c.top,
left:c.left,width:f.width(),height:f.height()};if(h.opacity)p.opacity=1;l.empty().hide();D.prop=1;b(D).animate({prop:0},{duration:h.speedOut,easing:h.easingOut,step:J,complete:a})}else f.fadeOut("none"==h.transitionOut?0:h.speedOut,a)},T=function(){d.is(":visible")&&d.css("height",b(document).height());M(!0)},M=function(b){var a,c;if(!q&&(c=!0===b?1:0,a=K(),c||!(f.width()>a[0]||f.height()>a[1])))f.stop().animate({top:parseInt(Math.max(a[3]-20,a[3]+0.5*(a[1]-j.height()-40)-r)),left:parseInt(Math.max(a[2]-
20,a[2]+0.5*(a[0]-j.width()-40)-r))},"number"==typeof b?b:200)};if(b("#fb-wrap").length||!b(this).length)return this;b("body").append(a=b('<div id="fb-tmp"></div>'),c=b('<div id="fb-loading"></div>'),d=b('<div id="fb-overlay"></div>'),f=b('<div id="fb-wrap"></div>'));m=b('<div id="fb-outer"></div>').appendTo(f);m.append(j=b('<div id="fb-content"></div>'),l=b('<div id="fb-title"></div>'),o=b('<div id="fb-left"><a>&nbsp;</a></<div'),t=b('<div id="fb-right"><a>&nbsp;</a></<div'));c.click(function(){q||
(q=!0,b.event.trigger("fb-cancel"),F(),k.onCancel(v,z,k),q=!1)});b("a",o).click(function(b){b.preventDefault();E(s-1)});b("a",t).click(function(b){b.preventDefault();E(s+1)});b.fn.mousewheel&&f.bind("mousewheel.fb",function(a,c){if(q)a.preventDefault();else if(0==b(a.target).get(0).clientHeight||b(a.target).get(0).scrollHeight===b(a.target).get(0).clientHeight)a.preventDefault(),0<c?E(s-1):E(s+1)});return this.data("atom.fancybox",b.extend(k,b.metadata?b(this).metadata():{})).unbind("click.fb").bind("click.fb",
function(a){a.preventDefault();q||(q=!0,b(this).blur(),v=[],z=0,a=b(this).data("group")||"",!a||""==a?v.push(this):(v=b('a[data-group="'+a+'"], area[data-group="'+a+'"]'),z=v.index(this)),H())})},superfish:function(){c=b.extend({hoverClass:"open",delay:500,dir:"marginTop",fx:!0,autoArrows:!0,menuClass:"superfish",anchorClass:"has-submenus",arrowClass:"arrow"},c);var a=b(['<span class="',c.arrowClass,'">&nbsp;</span>'].join("")),d=function(){var a=f(b(this));clearTimeout(a.timer);j(this);m(b(this).siblings())},
i=function(){var a=f(b(this)),d=b(this);clearTimeout(a.timer);a.timer=setTimeout(function(){m(d)},c.delay)},f=function(b){return b.parents(["ul.",c.menuClass,":first"].join(""))[0]},m=function(a){b(a).each(function(){var a=b("li."+c.hoverClass,this).add(this).removeClass(c.hoverClass).find(">ul");if(c.fx){var d={};d[c.dir]=20;b.support.opacity&&(d.opacity=0);a.stop().animate(d,150,"swing",function(){b(this).css({display:"none"})})}else a.css({display:"none"})})},j=function(a){b(a).each(function(){if(c.fx){var a=
{},d={};a.display="block";a[c.dir]=20;d[c.dir]=0;if(b.support.opacity)a.opacity=0,d.opacity=1;b(this).addClass(c.hoverClass).find(">ul:hidden").css(a).stop().animate(d,150,"swing")}else b(this).addClass(c.hoverClass).find(">ul:hidden").css({display:"block"})})};return this.each(function(){if(b("body").hasClass("no-fx"))c.fx=!1;if(c.fx){if(b(this).hasClass("slide-up"))c.dir="marginBottom";if(b(this).hasClass("slide-left"))c.dir="marginLeft";if(b(this).hasClass("slide-right"))c.dir="marginRight"}var f=
b("li:has(ul)",this).hover(d,i).each(function(){c.autoArrows&&b(">a:first-child",this).addClass(c.anchorClass).append(a.clone())});m(f);b("a",this).each(function(a){var c=b(this).eq(a).parents("li");b(this).eq(a).focus(function(){d.call(c)}).blur(function(){i.call(c)})})}).each(function(){b(this).addClass(c.menuClass)})}};if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery);
jQuery(document).ready(function(b){var a=atom_config.options.split("|");b(document).bind("atom_ready",function(){-1!==b.inArray("effects",a)&&(b("body").removeClass("no-fx"),b(".nudge").atom("nudgeLinks"),b("a.go-top").atom("goTopControl"));b(".block a.more").atom("showMoreControl");b(".nav ul.menu, nav > ul, .tabs > .navi").atom("superfish");b("a.screenshot").atom("webShots");b(".accordion, .collapsible").atom("collapsibleMenu");b(".toggle").atom("toggleVisibility");b("a.tt").atom("bubble");b("#comments").atom("commentControls");
b("input.email, input#email").bind("change",function(){b.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"get_avatar",email:b(this).val(),size:b(this).data("size")||0},success:function(a){""!=a&&b("#"+(b(this).data("avatar")||"user-avatar")).html(a)}})});b(".clearField").atom("clearField");b("form").submit(function(){b(".clearField",this).each(function(){b(this).atom("clearFieldCheck")});return!0});b("form").each(function(){b("a.submit",this).click(function(){b(this).parents("form").submit()})});
b(".tabs").atom("tabs");b(".iSlider").atom("imageSlider");-1!==b.inArray("lightbox",a)&&(b("a").filter(function(){return!!this.href.match(/.+\.(jpg|jpeg|png|gif)$/i)}).each(function(){b(this).attr("data-group","group"+b(this).parents("div").index()).addClass("lightbox")}),b(".lightbox").atom("fancybox"),b("a").bind("href_updated",function(){this.href.match(/.+\.(jpg|jpeg|png|gif)$/i)&&b(this).atom("fancybox")}));-1!==b.inArray("generate_thumbs",a)&&b(document).bind("ajaxComplete doThisNow",function(){b("span.no-img.regen").each(function(){var a=
b(this).attr("id").split(/-/g).slice(1);b(this).removeClass("regen");b.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"update_thumb",attachment_size:b(this).data("size"),post_id:a[0],thumb_id:a[1]},beforeSend:function(){b(this).addClass("loading")},success:function(a){""!=a?b(this).replaceWith(a):b(this).removeClass("loading")}})})}).trigger("doThisNow");b(".page-navi.single a").click(function(a){a.preventDefault();var d=b(this).html();b.ajax({url:b(this).attr("href"),type:"GET",
data:{atom:"content_only"},context:this,beforeSend:function(){b(this).addClass("loading").html("")},success:function(a){b(a).find("#primary-content .posts .hentry").hide().appendTo(b(".posts")).fadeIn(333);(a=b(a).find("#primary-content .page-navi.single a").attr("href"))?b(this).attr("href",a.split("?")[0]).removeClass("loading").html(d):b(this).remove()}})});b('iframe[src*="youtube.com"]').each(function(){this.src+=-1!==this.src.indexOf("?")?"&wmode=Opaque":"?wmode=Opaque"});b('[type="application/x-shockwave-flash"]').append('<param name="wMode" value="transparent" />')}).trigger("atom_ready")});