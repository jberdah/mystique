(function(a){function c(e){var b=e||window.event,c=[].slice.call(arguments,1),d=0,m=0,j=0;return e=a.event.fix(b),e.type="mousewheel",b.wheelDelta&&(d=b.wheelDelta/120),b.detail&&(d=-b.detail/3),j=d,void 0!==b.axis&&b.axis===b.HORIZONTAL_AXIS&&(j=0,m=-1*d),void 0!==b.wheelDeltaY&&(j=b.wheelDeltaY/120),void 0!==b.wheelDeltaX&&(m=-1*b.wheelDeltaX/120),c.unshift(e,d,m,j),(a.event.dispatch||a.event.handle).apply(this,c)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=b.length;d;)a.event.fixHooks[b[--d]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],c,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(a){a.cookie=function(c,b,d){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(b))||null===b||void 0===b)){d=a.extend({},d);if(null===b||void 0===b)d.expires=-1;if("number"===typeof d.expires){var e=d.expires,g=d.expires=new Date;g.setDate(g.getDate()+e)}b=""+b;return document.cookie=[encodeURIComponent(c),"=",d.raw?b:encodeURIComponent(b),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":
""].join("")}for(var d=b||{},e=d.raw?function(a){return a}:decodeURIComponent,g=document.cookie.split("; "),i=0,f;f=g[i]&&g[i].split("=");i++)if(e(f[0])===c)return e(f[1]||"");return null}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,c,b,d,e){return jQuery.easing[jQuery.easing.def](a,c,b,d,e)},easeInQuad:function(a,c,b,d,e){return d*(c/=e)*c+b},easeOutQuad:function(a,c,b,d,e){return-d*(c/=e)*(c-2)+b},easeInOutQuad:function(a,c,b,d,e){return 1>(c/=e/2)?d/2*c*c+b:-d/2*(--c*(c-2)-1)+b},easeInCubic:function(a,c,b,d,e){return d*(c/=e)*c*c+b},easeOutCubic:function(a,c,b,d,e){return d*((c=c/e-1)*c*c+1)+b},easeInOutCubic:function(a,c,b,d,e){return 1>(c/=e/2)?d/2*c*c*c+b:
d/2*((c-=2)*c*c+2)+b},easeInQuart:function(a,c,b,d,e){return d*(c/=e)*c*c*c+b},easeOutQuart:function(a,c,b,d,e){return-d*((c=c/e-1)*c*c*c-1)+b},easeInOutQuart:function(a,c,b,d,e){return 1>(c/=e/2)?d/2*c*c*c*c+b:-d/2*((c-=2)*c*c*c-2)+b},easeInQuint:function(a,c,b,d,e){return d*(c/=e)*c*c*c*c+b},easeOutQuint:function(a,c,b,d,e){return d*((c=c/e-1)*c*c*c*c+1)+b},easeInOutQuint:function(a,c,b,d,e){return 1>(c/=e/2)?d/2*c*c*c*c*c+b:d/2*((c-=2)*c*c*c*c+2)+b},easeInSine:function(a,c,b,d,e){return-d*Math.cos(c/
e*(Math.PI/2))+d+b},easeOutSine:function(a,c,b,d,e){return d*Math.sin(c/e*(Math.PI/2))+b},easeInOutSine:function(a,c,b,d,e){return-d/2*(Math.cos(Math.PI*c/e)-1)+b},easeInExpo:function(a,c,b,d,e){return 0==c?b:d*Math.pow(2,10*(c/e-1))+b},easeOutExpo:function(a,c,b,d,e){return c==e?b+d:d*(-Math.pow(2,-10*c/e)+1)+b},easeInOutExpo:function(a,c,b,d,e){return 0==c?b:c==e?b+d:1>(c/=e/2)?d/2*Math.pow(2,10*(c-1))+b:d/2*(-Math.pow(2,-10*--c)+2)+b},easeInCirc:function(a,c,b,d,e){return-d*(Math.sqrt(1-(c/=e)*
c)-1)+b},easeOutCirc:function(a,c,b,d,e){return d*Math.sqrt(1-(c=c/e-1)*c)+b},easeInOutCirc:function(a,c,b,d,e){return 1>(c/=e/2)?-d/2*(Math.sqrt(1-c*c)-1)+b:d/2*(Math.sqrt(1-(c-=2)*c)+1)+b},easeInElastic:function(a,c,b,d,e){var a=1.70158,g=0,i=d;if(0==c)return b;if(1==(c/=e))return b+d;g||(g=0.3*e);i<Math.abs(d)?(i=d,a=g/4):a=g/(2*Math.PI)*Math.asin(d/i);return-(i*Math.pow(2,10*(c-=1))*Math.sin(2*(c*e-a)*Math.PI/g))+b},easeOutElastic:function(a,c,b,d,e){var a=1.70158,g=0,i=d;if(0==c)return b;if(1==
(c/=e))return b+d;g||(g=0.3*e);i<Math.abs(d)?(i=d,a=g/4):a=g/(2*Math.PI)*Math.asin(d/i);return i*Math.pow(2,-10*c)*Math.sin(2*(c*e-a)*Math.PI/g)+d+b},easeInOutElastic:function(a,c,b,d,e){var a=1.70158,g=0,i=d;if(0==c)return b;if(2==(c/=e/2))return b+d;g||(g=1.5*0.3*e);i<Math.abs(d)?(i=d,a=g/4):a=g/(2*Math.PI)*Math.asin(d/i);return 1>c?-0.5*i*Math.pow(2,10*(c-=1))*Math.sin(2*(c*e-a)*Math.PI/g)+b:0.5*i*Math.pow(2,-10*(c-=1))*Math.sin(2*(c*e-a)*Math.PI/g)+d+b},easeInBack:function(a,c,b,d,e,g){void 0==
g&&(g=1.70158);return d*(c/=e)*c*((g+1)*c-g)+b},easeOutBack:function(a,c,b,d,e,g){void 0==g&&(g=1.70158);return d*((c=c/e-1)*c*((g+1)*c+g)+1)+b},easeInOutBack:function(a,c,b,d,e,g){void 0==g&&(g=1.70158);return 1>(c/=e/2)?d/2*c*c*(((g*=1.525)+1)*c-g)+b:d/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+b},easeInBounce:function(a,c,b,d,e){return d-jQuery.easing.easeOutBounce(a,e-c,0,d,e)+b},easeOutBounce:function(a,c,b,d,e){return(c/=e)<1/2.75?7.5625*d*c*c+b:c<2/2.75?d*(7.5625*(c-=1.5/2.75)*c+0.75)+b:c<2.5/2.75?
d*(7.5625*(c-=2.25/2.75)*c+0.9375)+b:d*(7.5625*(c-=2.625/2.75)*c+0.984375)+b},easeInOutBounce:function(a,c,b,d,e){return c<e/2?0.5*jQuery.easing.easeInBounce(a,2*c,0,d,e)+b:0.5*jQuery.easing.easeOutBounce(a,2*c-e,0,d,e)+0.5*d+b}});
(function(a){a.fn.atom=function(c,b){var d={tabs:function(){return this.each(function(){var b=a(this),c=b.attr("id");a(".section",b).css({position:"absolute",width:"100%"});a(".sections",b).css("height",a("#"+a(".navi li.active a",b).attr("href"),b).outerHeight(!0));a(".navi > li > a[href]",b).bind(b.data("event")||"click",function(d){d.preventDefault();if(a(".sections, .sections li",b).is(":animated")||a(this).parent("li").hasClass("active"))return!1;var f=a("#"+a(".navi li.active",b).removeClass("active").find("a").attr("href"),
b),m=a("#"+a(this).parent("li").addClass("active").find("a").attr("href"),b);a.cookie(c,m.attr("id"),{path:"/"});switch(b.data("fx")){case "height":a(".sections",b).animate({height:0},{duration:333,easing:"easeInBack",complete:function(){f.hide();m.show();a(this).animate({height:m.outerHeight(!0)},{duration:333,easing:"easeOutCirc"})}});break;case "fade":f.fadeOut(333);m.fadeIn(333);a(".sections",b).animate({height:m.outerHeight(!0)},{duration:300,specialEasing:{opacity:"easeOutQuad",height:"easeOutExpo"}});
break;default:f.hide(),m.show(),a(".sections",b).css("height",m.outerHeight(!0))}});a(".navi li a",b).each(function(){window.location.hash==a(this).attr("href")&&a(this).trigger(b.data("event")||"click")})})},bubble:function(){var b=a('<div class="tip"></div>').appendTo("body"),c="",d="";return this.mouseover(function(){var f=a(this).attr("title"),m=f.indexOf("|")+1,j=f.indexOf("|",m);c=f;d=f.substring(m,j);f=f.substr(j+1,f.length);b.html(f);d&&b.prepend("<p><strong>"+d+"</strong></p>");a(this).attr("title",
"");b.show()}).mousemove(function(a){b.css({top:a.pageY+22,left:a.pageX+10})}).mouseout(function(){b.hide();a(this).attr("title",c)}).click(function(){b.hide();a(this).attr("title",c)})},clearField:function(){b=a.extend({blurClass:"clearFieldBlurred",activeClass:"clearFieldActive",attribute:"data-default",value:""},b);return this.each(function(){var c=a(this),g=c.attr(b.attribute),d=!1;b.value=c.val();void 0==g?c.attr(b.attribute,c.val()).addClass(b.blurClass):b.value=g;if(c.is(":password")){var f=
a('<input type="text" />').attr("class",c.attr("class")).val(g).addClass("pass-label").hide();c.after(f);d=!0;f.focus(function(){f.hide();c.show().focus()})}c.focus(function(){c.val()==g&&!c.is(":password")&&c.val("").removeClass(b.blurClass).addClass(b.activeClass);"url"==c.attr("name")&&""==c.val()&&c.val("http://").removeClass(b.blurClass).addClass(b.activeClass)});c.blur(function(){""==c.val()||"url"==c.attr("name")&&"http://"==c.val()?c.is(":password")&&d?(c.hide(),f.show()):c.val(g).removeClass(b.activeClass).addClass(b.blurClass):
c.removeClass(b.blurClass).addClass(b.activeClass)});c.blur()})},clearFieldCheck:function(){return this.each(function(){var b=function(b){b=a(b);b.val()==(b.data("default")||"http://")&&b.val("");b.is(":password")&&(b.next(".pass-label").hide(),b.show())};a(this).is("form")?a(".clearField",this).each(function(){b(this)}):b(this)})},toggleVisibility:function(){return this.live("click",function(b){b.preventDefault();b=a("#"+a(this).data("target"));return a("body").hasClass("no-fx")?a(b).toggle(0):a.support.opacity?
a(b).animate({opacity:"toggle",height:"toggle"},333,"easeOutQuart"):a(b).animate({height:"toggle"},333,"easeOutQuart")})},webShots:function(){return this.each(function(b){var c=a(this).attr("title"),d="http://s.wordpress.com/mshots/v1/"+encodeURIComponent(a(this).attr("href"))+"?w=400",f=a('<div class="webshot" id="webshot-'+b+'"><img src="'+d+'" width="400" alt="'+c+'" /></div>').hide().appendTo(document.body);a("body").hasClass("no-fx");return a(this).mouseover(function(){f.show()}).mousemove(function(a){f.css({left:a.pageX+
15,top:a.pageY+15})}).mouseout(function(){f.hide()})})},goTopControl:function(){return this.each(function(){var b=a(this);a(window).scroll(function(){a.support.hrefNormalized||b.css({position:"absolute",top:a(window).scrollTop()+a(window).height()-50});500<=a(window).scrollTop()?b.fadeIn(200):b.fadeOut(200)});b.click(function(){a(a.browser.safari||a.browser.chrome?"body":"html,body").animate({scrollTop:0},"slow");return!1})})},imageSlider:function(){b=a.extend({width:!1,height:!1,squareSize:80,stripeWidth:80,
showPager:!0,showArrows:!0,autoplay:!0,transition:"random",delay:10},b);return this.each(function(){b.width=b.width||a(this).width();b.height=b.height||a(this).height();b.squareSize=Math.min(Math.max(b.squareSize,47),188);b.stripeWidth=Math.min(Math.max(b.stripeWidth,30),188);b.delay=1E3*parseInt(a(this).data("delay"),10)||1E3*b.delay;var c=a('<div class="loading"></div>').css({left:b.width/2-80,top:b.height/2-10}),d=a('<div class="i-controls"></div>'),i=a('<div class="next-slide"></div>'),f=a('<a href="" class="link"></a>').hide().appendTo(d),
m=a(this).prepend(i).append(d).prepend(c),j=[],l=0,o=0,t=a(".slide",m).length,z=0,k=null,v="undefined"!==typeof m.data("autoplay")?m.data("autoplay"):b.autoplay,s=!1,h=Math.ceil(b.height/b.squareSize),n=Math.ceil(b.width/b.squareSize),u=Math.ceil(b.width/b.stripeWidth),w={animationFade:function(a,b,c){i.css({backgroundImage:"url("+j[b].image+")",opacity:0}).animate({opacity:1},{duration:1333,complete:c,easing:"easeOutSine"})},animationSlideH:function(a,c,d,e){i.css({backgroundImage:"url("+j[c].image+
")",left:e?b.width:-b.width}).animate({left:0},{duration:999,complete:d,easing:"easeOutExpo"})},animationSlideV:function(a,c,d,e){i.css({backgroundImage:"url("+j[c].image+")",top:e?b.height:-b.height}).animate({top:0},{duration:999,complete:d,easing:"easeOutExpo"})},animationRandomTiles:function(b,c,d){for(var e=[],b=0;b<h*n-1;++b)e[b]=20*b;for(var g,f,b=e.length;b;g=parseInt(Math.random()*b),f=e[--b],e[b]=e[g],e[g]=f);a(".square",i).css({backgroundImage:"url("+j[c].image+")",opacity:0}).each(function(b){a(this).stop().delay(e[b]).animate({opacity:1},
{duration:999,easing:"easeOutQuad",complete:Math.max.apply(Math,e)!==e[b]||d})})},animationHorizontalTiles:function(b,c,d,e){var g=e?0:h*n-1;a(".square",i).css({backgroundImage:"url("+j[c].image+")",opacity:0}).each(function(b){a(this).stop().delay(30*(e?h*n-b:b)).animate({opacity:1},{duration:666,easing:"easeOutSine",complete:b!==g||d})})},animationDiagonalTiles:function(c,d,e,g){var f=0,l=g?0:h*n-1;a(".square",i).css({backgroundImage:"url("+j[g?d:c].image+")",opacity:g?0:1});g?p(-20,-20):i.css("background-image",
"url("+j[d].image+")");m.removeClass("no-overflow");for(c=0;c<h;c++)for(d=0;d<n;d++)a(".square-"+f,i).stop().delay(100*(g?h-c+n-d:d+c)).animate({opacity:g?1:0,left:g?d*b.squareSize:d*b.squareSize-20,top:g?c*b.squareSize:c*b.squareSize-20},{duration:333,complete:f!==l||e}),++f},animationSpiral:function(b,c,d,e){var b=[],g=Math.ceil(h/2),f,m,l,k=0;for(l=0;l<g;l++){for(f=m=l;f<n-l-1;f++)b[k++]=m*n+f;f=n-l-1;for(m=l;m<h-l-1;m++)b[k++]=m*n+f;m=h-l-1;for(f=n-l-1;f>l;f--)b[k++]=m*n+f;f=l;for(m=h-l-1;m>l;m--)b[k++]=
m*n+f}e&&b.reverse();for(var t=0;t<k;t++)a(".square-"+b[t],i).css({backgroundImage:"url("+j[c].image+")",opacity:0}).each(function(){a(this).stop().delay(30*t).animate({opacity:1},{duration:666,easing:"easeOutSine",complete:t!=k-1||d})})},animationRandomStripes:function(b,c,d){for(var b=[],e=0;e<u-1;++e)b[e]=60*e;for(var g,f,e=b.length;e;g=parseInt(Math.random()*e),f=b[--e],b[e]=b[g],b[g]=f);a(".stripe",i).css({backgroundImage:"url("+j[c].image+")",opacity:0,top:-40});for(e=0;e<u;e++)a(".stripe-"+
e,i).stop().delay(b[e]).animate({opacity:1,top:0},{duration:999,specialEasing:{opacity:"easeOutQuad",top:"easeOutElastic"},complete:Math.max.apply(Math,b)!==b[e]||d})},animationStripeWave:function(b,c,d,e){b=e?0:u-1;a(".stripe",i).css({backgroundImage:"url("+j[c].image+")",opacity:0,top:-30});m.removeClass("no-overflow");for(c=0;c<u;c++)a(".stripe-"+c,i).stop().delay(30*(e?u-c:c)).animate({opacity:1,top:0},{duration:999,specialEasing:{opacity:"easeOutSine",top:"easeOutElastic"},complete:c!==b||d})},
animationCurtain:function(c,d,e,g){c=g?0:u-1;a(".stripe",i).css({backgroundImage:"url("+j[d].image+")",opacity:0,height:0,top:-(b.height/2)});m.removeClass("no-overflow");for(d=0;d<u;d++)a(".stripe-"+d,i).stop().delay(70*(g?u-d:d)).animate({opacity:1,height:b.height,top:0},{duration:333,specialEasing:{opacity:"easeInSine",height:"easeOutQuad",top:"easeOutQuad"},complete:d!==c||e})},animationInterweave:function(c,d,e,g){c=g?0:u-1;a(".stripe",i).css({backgroundImage:"url("+j[d].image+")",opacity:0});
a(".stripe:even",i).css("top",-b.height);a(".stripe:odd",i).css("top",b.height);m.removeClass("no-overflow");for(d=0;d<u;d++)a(".stripe-"+d,i).stop().delay(50*(g?u-d:d)).animate({opacity:1,top:0},{duration:666,specialEasing:{opacity:"easeOutSine",top:"easeOutExpo"},complete:d!==c||e})}},B=function(){return i.is(":animated")||a("div",i).is(":animated")||a(".caption",d).is(":animated")},A=function(b,c){clearTimeout(k);o=l;l=b;m.css("background-image","url("+j[o].image+")");f.hide();a(".pager a",d).removeClass("current");
a(".pager a:eq("+l+")",d).addClass("current");x();("random"!=j[l].transition?w["animation"+j[l].transition]:w[function(){var a=0,b,c;for(c in w)Math.random()<1/++a&&(b=c);return b}()])(o,l,function(){m.removeClass("no-overflow").addClass("no-overflow").css("background-image","url("+j[l].image+")");a("div",i).add(i).css("background-image","");p(0,0);q();r(l);j[l].link&&f.attr("href",j[l].link).show().trigger("href_updated");v&&y()},c)},y=function(){k=setTimeout(function(){A("undefined"==typeof j[l+
1]?0:l+1)},j[l].delay)},r=function(c){c=0===a(".caption",d).length?a(j[c].caption).appendTo(d):a(".caption",d).replaceAll(a(j[c].caption));c.hasClass("push-left")?c.css("width",0.3*b.width).css({opacity:0,left:-(0.3*b.width)}).stop().show().animate({opacity:1,left:0},{duration:333,easing:"easeOutExpo"}):c.hasClass("push-right")?c.css("width",0.3*b.width).css({opacity:0,right:-(0.3*b.width)}).stop().show().animate({opacity:1,right:0},{duration:333,easing:"easeOutExpo"}):c.css({opacity:0,bottom:-c.outerHeight()}).stop().show().animate({opacity:1,
bottom:0},{duration:333,easing:"easeOutExpo"})},x=function(){var c=a(".caption",d);c.hasClass("push-left")?c.stop().animate({opacity:0,left:-(0.3*b.width)},{duration:333,easing:"easeOutExpo",complete:function(){c.remove()}}):c.hasClass("push-right")?c.stop().animate({right:-(0.3*b.width),opacity:0},{duration:333,easing:"easeOutExpo",complete:function(){c.remove()}}):c.stop().animate({opacity:0,bottom:-c.outerHeight()},{duration:333,easing:"easeOutExpo",complete:function(){c.remove()}})},p=function(c,
d){for(var e=0;e<h;e++)for(var g=0;g<n;g++)a(".square-"+(n*e+g),i).css({backgroundPosition:-g*b.squareSize+"px "+-e*b.squareSize+"px",backgroundRepeat:"no-repeat",position:"absolute",left:g*b.squareSize+c,top:e*b.squareSize+d,opacity:0,width:b.squareSize,height:b.squareSize})},q=function(){for(var c=0;c<u;c++)a(".stripe-"+c,i).css({backgroundPosition:-c*b.stripeWidth+"px 0",backgroundRepeat:"no-repeat",position:"absolute",left:c*b.stripeWidth,top:0,opacity:0,width:b.stripeWidth,height:b.height})};
a(".slide",m).each(function(){var o={delay:1E3*parseInt(a(this).data("delay"))||b.delay,transition:a(this).data("fx")||b.transition,link:a("img:first",this).parent("a").attr("href")||"",image:a("img:first",this).attr("src"),caption:a(".caption",this).clone().wrap("<div></div>").parent().html()};j.push(o);a("<img>",this).load(function(){++z;if(t===z){m.css("background-image","url("+j[0].image+")").addClass("no-overflow");j[0].link&&f.attr("href",j[0].link).show().trigger("href_updated");a(".slide",
m).remove();c.remove();if(m.data("controls")){var o=m.data("controls").replace(/ /g,"").split(",");b.showPager=!!~a.inArray("pager",o);b.showArrows=!!~a.inArray("arrows",o)}b.showArrows&&(a("<a>",{"class":"prev",css:{top:b.height/2-48,opacity:0},click:function(){if(!B()){var a=l-1;"undefined"==typeof j[a]&&(a=t-1);A(a,!0);return!1}}}).appendTo(d),a("<a>",{"class":"next",css:{top:b.height/2-48,opacity:0},click:function(){if(!B()){var a=l+1;"undefined"==typeof j[a]&&(a=0);A(a);return!1}}}).appendTo(d));
if(b.showPager){a("<div>",{"class":"pager",css:{opacity:0}}).appendTo(d);for(o=0;o<t;o++)a(".pager",d).append(a("<a"+(0==o?' class="current"':"")+">&nbsp;</a>"));a(".pager a",d).click(function(){if(a(this).index()==l||B())return!1;clearInterval(k);A(a(this).index(),l>a(this).index());return!1})}d.hover(function(){a(".pager, a.next, a.prev",d).stop().animate({opacity:1},333);clearInterval(k);v&&(s=!0,v=!1)},function(){a(".pager, a.next, a.prev",d).stop().animate({opacity:0},666);s&&(y(),v=!0)});r(0);
for(o=0;o<h*n;o++)i.append(a("<div />").addClass("square square-"+o));p(0,0);for(o=0;o<u;o++)i.append(a("<div />").addClass("stripe stripe-"+o));q();d.fadeIn(333);!(2>t)&&v&&y()}}).attr("src",o.image)})})},collapsibleMenu:function(){return this.each(function(){a("li.extends",this).addClass("collapsed");a("li.extends.active, li.extends.active-parent",this).removeClass("collapsed").addClass("expanded");var b=/event-([^\s]+)/.exec(a(this).attr("class"))[1];a('li.extends span.expand, li.extends a[href="#"]',
this).bind(b,function(b){b.stopImmediatePropagation();var b=a(this),c=b.nextAll("ul:first"),d=b.parent(),e=b.closest(".collapsible, .accordion"),b=function(b,g){a(b).animate({opacity:g,height:g,marginTop:g,marginBottom:g,paddingTop:g,paddingBottom:g},{duration:200,step:function(){e.parents("li.block .sections").height(e.height())},complete:function(){d.removeClass("expanded collapsed");c.is("ul:visible")?d.addClass("expanded"):d.addClass("collapsed")}})};if(e.hasClass("collapsible"))void 0===c[0]&&
(window.location.href=this.href),b(c,"toggle");else{context_menu=this.parentNode.parentNode;if(c.is("ul:visible"))return e.hasClass("collapsible")&&b(a("ul:visible",context_menu).first(),"hide"),!1;c.is("ul:visible")||(b(a("ul:visible",context_menu).first(),"hide"),b(c,"show"))}return!1})})},highlightText:function(a,b,c){a=RegExp("(<[^>]*>)|(\\b"+a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+")",b?"ig":"g");if(0<this.length)return this.html(this.html().replace(a,function(a,b,d){return"<"==a.charAt(0)?
a:'<strong class="'+c+'">'+d+"</strong>"}))},showMoreControl:function(){return this.click(function(b){var c=a(this).parents(".block"),d=a(this),f=a(this).html();b.preventDefault();a.ajax({type:"GET",url:atom_config.blog_url,data:{instance:a(this).data("instance"),atom:a(this).data("cmd"),offset:parseInt(a(this).data("offset"))},dataType:"json",context:this,beforeSend:function(){a(this).addClass("loading").html("&nbsp;")},complete:function(){a(this).removeClass("loading").html(f)},success:function(b){""!=
b.output&&(a("body").hasClass("no-fx")?(a(b.output).appendTo(c.find("ul")),d.parents(".sections").height(c.height())):a(b.output).appendTo(c.find("ul")).hide().each(function(b){a(this).delay(333*b).animate({opacity:"show",height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},{duration:333,step:function(){d.parents(".sections").height(c.height())}})}));d.data("offset",b.offset);b.more||d.hide()}})})},nudgeLinks:function(){return this.each(function(){var b=a(this).data("dir"),
c="margin"+b.charAt(0).toUpperCase()+b.slice(1),d=-parseInt(a(this).data("amt"));a("a",this).each(function(){var b=a(this),e=b.css(c),j={},l={};j[c]=d+parseInt(e);l[c]=e;b.hover(function(){b.stop().animate(j,166)},function(){b.stop().animate(l,166)})})})},commentControls:function(){return this.each(function(){var b=a(this);b.delegate(".comment-reply","click",function(c){c.preventDefault();var c=a(this).attr("id"),d=c.lastIndexOf("-"),c=c.substr(++d);b.find(".comment.new").hide();b.find("#comment_parent").attr("value",
c);b.find("#cancel-reply").show();b.find(".comment.new").appendTo("#comment-body-"+c).show(0,function(){b.find("#comment").each(function(){if(this.createTextRange){var b=this.createTextRange();b.collapse(!1);b.select()}a(this).focus()})})});b.delegate("#cancel-reply","click",function(c){c.preventDefault();b.find(".comment.new").hide();b.find("#comment_parent").attr("value","0");a(this).hide();b.find(".comment.new").appendTo(b.find("li.new")).show(0,function(){b.find("#comment").each(function(){if(this.createTextRange){var b=
this.createTextRange();b.collapse(!1);b.select()}a(this).focus()})})});b.delegate(".comment-quote","click",function(c){var d=b.find("#comment"),f=a(this).parents(".comment");c.preventDefault();d.atom("clearFieldCheck");jQuery.fn.appendVal=function(a){return this.each(function(){this.value+=a})};d.appendVal('<blockquote>\n<a href="'+a(".comment-id",f).attr("href")+'">\n<strong><em>'+a(".comment-author",f).html()+":</em></strong>\n</a>\n "+function(a,b){var c,d=0,e=0,a=a+"";c=b?(b+"").replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,
"$1"):" \n\r\t\u000c\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000";d=a.length;for(e=0;e<d;e++)if(-1===c.indexOf(a.charAt(e))){a=a.substring(e);break}d=a.length;for(e=d-1;0<=e;e--)if(-1===c.indexOf(a.charAt(e))){a=a.substring(0,e+1);break}return-1===c.indexOf(a.charAt(0))?a:""}(function(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return a.replace(/<\!--[\s\S]*?--\>|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,
function(a,c){return-1<b.indexOf("<"+c.toLowerCase()+">")?a:""})}(a(".comment-text",f).html(),"<em><strong><i><b><a><code>"))+"\n</blockquote>\n").trigger("blur").focus()});b.delegate("a.vote","click",function(b){b.preventDefault();a.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"comment_karma",karma:a(this).data("vote")},success:function(b){var c=a(this).parent().find(".karma");c.html(b);0<parseInt(b)?(c.removeClass("negative"),c.addClass("positive")):0>parseInt(b)&&(c.removeClass("positive"),
c.addClass("negative"));a(this).parent().find("a").remove()}})});b.delegate("a.show","click",function(c){c.preventDefault();a.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"get_comment",comment_id:a(this).data("comment")},success:function(c){c=a("<ul />").html(c).find(".comment-body").hide();c=c[0].outerHTML||c.clone().appendTo("<div>").parent().html();a(this).parents(".comment-head").after(c);a("body").hasClass("no-fx")?(a(this).parents("li").find(".comment-body").show(),a(this).parents(".sections").height(b.height()+
15)):a(this).parents("li").find(".comment-body").animate({opacity:"show",height:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},{duration:333,complete:function(){a(this).parents(".sections").height(b.height()+15)}});a(this).remove()}})})})},fancybox:function(){var b,c,d,f,m,j,l,o,t,z=0,k={},v=[],s=0,h={},n=[],u=null,w=new Image,B=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,A=0,y="",r,x,p,q=!1,D=a.extend(a("<div/>")[0],{prop:0}),F=function(){c.hide();w.onerror=w.onload=null;
u&&u.abort();b.empty()},G=function(){!1===k.onError(v,z,k)?(c.hide(),q=!1):(k.titleShow=!1,k.width="auto",k.height="auto",b.html('<p id="fb-error">The requested content cannot be loaded.<br />Please try again later.</p>'),N())},H=function(){var d=v[z],f,h,l,i;F();k=a.extend({opacity:!1,cyclic:!1,scrolling:"auto",width:560,height:340,centerOnScroll:!0,ajax:{},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.5,titleShow:!0,titleFormat:null,titleFromAlt:!1,transitionIn:"elastic",
transitionOut:"elastic",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"easeOutBack",easingOut:"easeInBack",showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},"undefined"==typeof a(d).data("atom.fancybox")?k:a(d).data("atom.fancybox"));i=k.onStart(v,z,k);if(!1===i)q=!1;else{"object"==typeof i&&(k=a.extend(k,i));l=k.title||(d.nodeName?a(d).attr("title"):
d.title)||"";d.nodeName&&!k.orig&&(k.orig=a(d).children("img:first").length?a(d).children("img:first"):a(d));""===l&&k.orig&&k.titleFromAlt&&(l=k.orig.attr("alt"));f=k.href||(d.nodeName?a(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(f)||"#"==f)f=null;f&&(h=f.match(B)?"image":"ajax");h?(k.href=f,k.title=l,r=(j.outerWidth()-j.width())/2,b.css("padding",r),a(".fb-inline-tmp").unbind("fb-cancel").bind("fb-change",function(){a(this).replaceWith(j.children())}),"ajax"!==h?(q=!1,c.show(),w=new Image,
w.onerror=G,w.onload=function(){q=!0;w.onerror=w.onload=null;k.width=w.width;k.height=w.height;a("<img />").attr({id:"fb-img",src:w.src,alt:k.title}).appendTo(b);O()},w.src=f):(q=!1,c.show(),k.ajax.win=k.ajax.success,u=a.ajax(a.extend({},k.ajax,{url:f,data:k.ajax.data||{},error:function(a){0<a.status&&G()},success:function(a,d,C){if(200==("object"==typeof C?C:u).status){if("function"==typeof k.ajax.win){i=k.ajax.win(f,a,d,C);if(!1===i){c.hide();return}if("string"==typeof i||"object"==typeof i)a=i}b.html(a);
N()}}})))):G()}},N=function(){var c=k.width,d=k.height,c=-1<c.toString().indexOf("%")?parseInt(a(window).width()*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px",d=-1<d.toString().indexOf("%")?parseInt(a(window).height()*parseFloat(d)/100,10)+"px":"auto"==d?"auto":d+"px";b.wrapInner('<div style="width:'+c+";height:"+d+";overflow: "+("auto"==k.scrolling?"auto":"yes"==k.scrolling?"scroll":"hidden")+';position:relative;"></div>');k.width=b.width();k.height=b.height();O()},O=function(){var C,P;c.hide();
if(f.is(":visible")&&!1===h.onCleanup(n,s,h))a.event.trigger("fb-cancel"),q=!1;else{q=!0;a(j.add(d)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");f.is(":visible")&&f.css("height",f.height());n=v;s=z;h=k;h.overlayShow?(d.css({opacity:h.overlayOpacity,cursor:h.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),d.is(":visible")||d.show()):d.hide();p=S();y=h.title||"";A=0;l.empty().removeAttr("style").removeClass();if(!1!==h.titleShow&&(y=a.isFunction(h.titleFormat)?
h.titleFormat(y,n,s,h):y&&y.length?y:!1)&&""!==y)l.html(y).appendTo("body").show(),l.css({width:p.width-2*r,marginLeft:r,marginRight:r}),A=l.outerHeight(!0),l.appendTo(m),p.height+=A;l.hide();f.is(":visible")?(a(o.add(t)).hide(),C=f.position(),x={top:C.top,left:C.left,width:f.width(),height:f.height()},P=x.width==p.width&&x.height==p.height,j.fadeTo(h.changeFade,0.3,function(){var c=function(){j.html(b.contents()).fadeTo(h.changeFade,1,I)};a.event.trigger("fb-change");j.empty().css({width:p.width-
2*r,height:"ajax"==k.type?"auto":p.height-A-2*r});P?c():(D.prop=0,a(D).animate({prop:1},{duration:h.changeSpeed,easing:h.easingChange,step:J,complete:c}))})):(f.removeAttr("style"),"elastic"==h.transitionIn?(x=Q(),j.html(b.contents()),f.show(),h.opacity&&(p.opacity=0),D.prop=0,a(D).animate({prop:1},{duration:h.speedIn,easing:h.easingIn,step:J,complete:I})):(0<A&&l.show(),j.css({width:p.width-2*r,height:"ajax"==k.type?"auto":p.height-A-2*r}).html(b.contents()),f.css(p).fadeIn("none"==h.transitionIn?
0:h.speedIn,I)))}},R=function(){(h.enableEscapeButton||h.enableKeyboardNav)&&a(document).bind("keydown.fb",function(a){if(27==a.keyCode&&h.enableEscapeButton)a.preventDefault(),L();else if((37==a.keyCode||39==a.keyCode)&&h.enableKeyboardNav&&"INPUT"!==a.target.tagName&&"TEXTAREA"!==a.target.tagName&&"SELECT"!==a.target.tagName)a.preventDefault(),37==a.keyCode?E(s-1):E(s+1)});if(h.showNavArrows){if(h.cyclic&&1<n.length||0!==s)a("a",o).css("top",f.height()/2-a("a",o).height()/2),o.show();if(h.cyclic&&
1<n.length||s!=n.length-1)a("a",t).css("top",f.height()/2-a("a",o).height()/2),t.show()}else o.hide(),t.hide()},I=function(){"ajax"==k.type&&j.css("height","auto");f.css("height","auto");y&&y.length&&l.show();R();h.hideOnContentClick&&j.bind("click",L);h.hideOnOverlayClick&&d.bind("click",L);a(window).bind("resize.fb",T);h.centerOnScroll&&a(window).bind("scroll.fb",M);f.show();q=!1;M();h.onComplete(n,s,h);var b,c;n.length-1>s&&(b=n[s+1].href,"undefined"!==typeof b&&b.match(B)&&(c=new Image,c.src=
b));0<s&&(b=n[s-1].href,"undefined"!==typeof b&&b.match(B)&&(c=new Image,c.src=b))},J=function(a){var b={width:parseInt(x.width+(p.width-x.width)*a,10),height:parseInt(x.height+(p.height-x.height)*a,10),top:parseInt(x.top+(p.top-x.top)*a,10),left:parseInt(x.left+(p.left-x.left)*a,10)};"undefined"!==typeof p.opacity&&(b.opacity=0.5>a?0.5:a);f.css(b);j.css({width:b.width-2*r,height:b.height-A*a-2*r})},K=function(){return[a(window).width(),a(window).height(),a(document).scrollLeft(),a(document).scrollTop()]},
S=function(){var a=K(),b={},c=2*r,d;b.width=-1<h.width.toString().indexOf("%")?parseInt(a[0]*parseFloat(h.width)/100,10):h.width+c;b.height=-1<h.height.toString().indexOf("%")?parseInt(a[1]*parseFloat(h.height)/100,10):h.height+c;if(b.width>a[0]||b.height>a[1])"image"==k.type?(d=h.width/h.height,b.width>a[0]&&(b.width=a[0],b.height=parseInt((b.width-c)/d+c,10)),b.height>a[1]&&(b.height=a[1],b.width=parseInt((b.height-c)*d+c,10))):(b.width=Math.min(b.width,a[0]),b.height=Math.min(b.height,a[1]));b.top=
parseInt(Math.max(a[3]-20,a[3]+0.5*(a[1]-b.height-40)),10);b.left=parseInt(Math.max(a[2]-20,a[2]+0.5*(a[0]-b.width-40)),10);return b},Q=function(){var b=k.orig?a(k.orig):!1,c={};b&&b.length?(c=b.offset(),c.width=b.width(),c.height=b.height(),c={width:c.width+2*r,height:c.height+2*r,top:c.top-r-20,left:c.left-r-20}):(b=K(),c={width:2*r,height:2*r,top:parseInt(b[3]+0.5*b[1],10),left:parseInt(b[2]+0.5*b[0],10)});return c},E=function(a){q||(a=parseInt(a),v=n,-1<a&&a<n.length?(z=a,H()):h.cyclic&&1<n.length&&
(z=a>=n.length?0:n.length-1,H()))},L=function(){function b(){d.fadeOut("fast");l.empty().hide();f.hide();a.event.trigger("fb-cleanup");j.empty();h.onClosed(n,s,h);n=k=[];s=z=0;h=k={};q=!1}if(!q&&!f.is(":hidden"))if(q=!0,h&&!1===h.onCleanup(n,s,h))q=!1;else if(F(),a(o.add(t)).hide(),a(j.add(d)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),j.find("iframe").attr("src","about:blank"),f.stop(),"elastic"==h.transitionOut){x=Q();var c=f.position();p={top:c.top,left:c.left,
width:f.width(),height:f.height()};h.opacity&&(p.opacity=1);l.empty().hide();D.prop=1;a(D).animate({prop:0},{duration:h.speedOut,easing:h.easingOut,step:J,complete:b})}else f.fadeOut("none"==h.transitionOut?0:h.speedOut,b)},T=function(){d.is(":visible")&&d.css("height",a(document).height());M(!0)},M=function(a){var b,c;if(!q&&(c=!0===a?1:0,b=K(),c||!(f.width()>b[0]||f.height()>b[1])))f.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+0.5*(b[1]-j.height()-40)-r)),left:parseInt(Math.max(b[2]-20,b[2]+
0.5*(b[0]-j.width()-40)-r))},"number"==typeof a?a:200)};if(a("#fb-wrap").length||!a(this).length)return this;a("body").append(b=a('<div id="fb-tmp"></div>'),c=a('<div id="fb-loading"></div>'),d=a('<div id="fb-overlay"></div>'),f=a('<div id="fb-wrap"></div>'));m=a('<div id="fb-outer"></div>').appendTo(f);m.append(j=a('<div id="fb-content"></div>'),l=a('<div id="fb-title"></div>'),o=a('<div id="fb-left"><a>&nbsp;</a></<div'),t=a('<div id="fb-right"><a>&nbsp;</a></<div'));c.click(function(){q||(q=!0,
a.event.trigger("fb-cancel"),F(),k.onCancel(v,z,k),q=!1)});a("a",o).click(function(a){a.preventDefault();E(s-1)});a("a",t).click(function(a){a.preventDefault();E(s+1)});a.fn.mousewheel&&f.bind("mousewheel.fb",function(b,c){if(q)b.preventDefault();else if(0==a(b.target).get(0).clientHeight||a(b.target).get(0).scrollHeight===a(b.target).get(0).clientHeight)b.preventDefault(),0<c?E(s-1):E(s+1)});return this.data("atom.fancybox",a.extend(k,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",
function(b){b.preventDefault();q||(q=!0,a(this).blur(),v=[],z=0,b=a(this).data("group")||"",!b||""==b?v.push(this):(v=a('a[data-group="'+b+'"], area[data-group="'+b+'"]'),z=v.index(this)),H())})},superfish:function(){b=a.extend({hoverClass:"open",delay:500,dir:"marginTop",fx:!0,autoArrows:!0,menuClass:"superfish",anchorClass:"has-submenus",arrowClass:"arrow"},b);var c=a(['<span class="',b.arrowClass,'">&nbsp;</span>'].join("")),d=function(){var b=f(a(this));clearTimeout(b.timer);j(this);m(a(this).siblings())},
i=function(){var c=f(a(this)),d=a(this);clearTimeout(c.timer);c.timer=setTimeout(function(){m(d)},b.delay)},f=function(a){return a.parents(["ul.",b.menuClass,":first"].join(""))[0]},m=function(c){a(c).each(function(){var c=a("li."+b.hoverClass,this).add(this).removeClass(b.hoverClass).find(">ul");if(b.fx){var d={};d[b.dir]=20;a.support.opacity&&(d.opacity=0);c.stop().animate(d,150,"swing",function(){a(this).css({display:"none"})})}else c.css({display:"none"})})},j=function(c){a(c).each(function(){if(b.fx){var c=
{},d={};c.display="block";c[b.dir]=20;d[b.dir]=0;a.support.opacity&&(c.opacity=0,d.opacity=1);a(this).addClass(b.hoverClass).find(">ul:hidden").css(c).stop().animate(d,150,"swing")}else a(this).addClass(b.hoverClass).find(">ul:hidden").css({display:"block"})})};return this.each(function(){a("body").hasClass("no-fx")&&(b.fx=!1);b.fx&&(a(this).hasClass("slide-up")&&(b.dir="marginBottom"),a(this).hasClass("slide-left")&&(b.dir="marginLeft"),a(this).hasClass("slide-right")&&(b.dir="marginRight"));var f=
a("li:has(ul)",this).hover(d,i).each(function(){b.autoArrows&&a(">a:first-child",this).addClass(b.anchorClass).append(c.clone())});m(f);a("a",this).each(function(b){var c=a(this).eq(b).parents("li");a(this).eq(b).focus(function(){d.call(c)}).blur(function(){i.call(c)})})}).each(function(){a(this).addClass(b.menuClass)})}};if(d[c])return d[c].apply(this,Array.prototype.slice.call(arguments,1))}})(jQuery);
jQuery(document).ready(function(a){var c=atom_config.options.split("|");a(document).bind("atom_ready",function(){-1!==a.inArray("effects",c)&&(a("body").removeClass("no-fx"),a(".nudge").atom("nudgeLinks"),a("a.go-top").atom("goTopControl"));a(".block a.more").atom("showMoreControl");a(".nav ul.menu, nav > ul, .tabs > .navi").atom("superfish");a("a.screenshot").atom("webShots");a(".accordion, .collapsible").atom("collapsibleMenu");a(".toggle").atom("toggleVisibility");a("a.tt").atom("bubble");a("#comments").atom("commentControls");
a("input.email, input#email").bind("change",function(){a.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"get_avatar",email:a(this).val(),size:a(this).data("size")||0},success:function(b){""!=b&&a("#"+(a(this).data("avatar")||"user-avatar")).html(b)}})});a(".clearField").atom("clearField");a("form").submit(function(){a(".clearField",this).each(function(){a(this).atom("clearFieldCheck")});return!0});a("form").each(function(){a("a.submit",this).click(function(){a(this).parents("form").submit()})});
a(".tabs").atom("tabs");a(".iSlider").atom("imageSlider");-1!==a.inArray("lightbox",c)&&(a("a").filter(function(){return!!this.href.match(/.+\.(jpg|jpeg|png|gif)$/i)}).each(function(){a(this).attr("data-group","group"+a(this).parents("div").index()).addClass("lightbox")}),a(".lightbox").atom("fancybox"),a("a").bind("href_updated",function(){this.href.match(/.+\.(jpg|jpeg|png|gif)$/i)&&a(this).atom("fancybox")}));-1!==a.inArray("generate_thumbs",c)&&a(document).bind("ajaxComplete doThisNow",function(){a("span.no-img.regen").each(function(){a(this).removeClass("regen");
a.ajax({url:atom_config.blog_url,type:"GET",context:this,data:{atom:"update_thumb",attachment_size:a(this).data("size"),post_id:a(this).data("post"),thumb_id:a(this).data("thumb")},beforeSend:function(){a(this).addClass("loading")},success:function(b){""!=b?a(this).replaceWith(b):a(this).removeClass("loading")}})})}).trigger("doThisNow");a(".page-navi.single a").click(function(b){b.preventDefault();var c=a(this).html();a.ajax({url:a(this).attr("href"),type:"GET",data:{atom:"content_only"},context:this,
beforeSend:function(){a(this).addClass("loading").html("")},success:function(b){a(b).find("#primary-content .posts .hentry").hide().appendTo(a(".posts")).fadeIn(333);(b=a(b).find("#primary-content .page-navi.single a").attr("href"))?a(this).attr("href",b.split("?")[0]).removeClass("loading").html(c):a(this).remove()}})});a('iframe[src*="youtube.com"]').each(function(){this.src+=-1!==this.src.indexOf("?")?"&wmode=Opaque":"?wmode=Opaque"});a('[type="application/x-shockwave-flash"]').append('<param name="wMode" value="transparent" />')}).trigger("atom_ready")});